basePath: /api/v1
definitions:
  views.CategoryResponse:
    properties:
      category_name:
        type: string
      category_number:
        type: integer
    type: object
  views.CheckListResponse:
    properties:
      check:
        $ref: '#/definitions/views.CheckResponse'
      product:
        $ref: '#/definitions/views.ProductResponse'
    type: object
  views.CheckResponse:
    properties:
      card_number:
        type: string
      check_number:
        type: string
      id_employee:
        type: string
      print_date:
        type: string
      sum_total:
        type: number
      vat:
        type: number
    type: object
  views.CheckResponseWithProducts:
    properties:
      check:
        $ref: '#/definitions/views.CheckResponse'
      products:
        items:
          $ref: '#/definitions/views.ProductResponse'
        type: array
    type: object
  views.CreateNewCategory:
    properties:
      category_name:
        maxLength: 50
        minLength: 1
        type: string
    required:
    - category_name
    type: object
  views.CreateNewCheck:
    properties:
      card_number:
        maxLength: 13
        minLength: 1
        type: string
      check_number:
        maxLength: 10
        minLength: 1
        type: string
      id_employee:
        maxLength: 10
        minLength: 1
        type: string
      print_date:
        type: string
      products:
        items:
          $ref: '#/definitions/views.StoreProduct'
        minItems: 1
        type: array
      vat:
        maximum: 9.999999999999e+08
        minimum: 0
        type: number
    required:
    - card_number
    - check_number
    - id_employee
    - print_date
    - products
    - vat
    type: object
  views.CreateNewCustomerCard:
    properties:
      card_number:
        maxLength: 13
        minLength: 1
        type: string
      city:
        maxLength: 50
        type: string
      customer_name:
        maxLength: 50
        minLength: 1
        type: string
      customer_patronymic:
        maxLength: 50
        minLength: 1
        type: string
      customer_percent:
        maximum: 100
        minimum: 1
        type: integer
      customer_surname:
        maxLength: 50
        minLength: 1
        type: string
      phone_number:
        maxLength: 13
        type: string
      street:
        maxLength: 50
        type: string
      zipcode:
        maxLength: 9
        type: string
    required:
    - card_number
    - customer_name
    - customer_percent
    - customer_surname
    - phone_number
    type: object
  views.CustomerCardResponse:
    properties:
      card_number:
        type: string
      city:
        type: string
      customer_name:
        type: string
      customer_patronymic:
        type: string
      customer_percent:
        type: integer
      customer_surname:
        type: string
      phone_number:
        type: string
      street:
        type: string
      zipcode:
        type: string
    type: object
  views.ProductResponse:
    properties:
      name:
        type: string
      quantity:
        type: integer
      selling_price:
        type: number
    type: object
  views.SaleResponse:
    properties:
      check_number:
        type: string
      product_number:
        type: integer
      selling_price:
        type: number
      upc:
        type: string
    type: object
  views.StoreProduct:
    properties:
      quantity:
        minimum: 1
        type: integer
      upc:
        maxLength: 12
        minLength: 1
        type: string
    required:
    - quantity
    - upc
    type: object
  views.UpdateCategory:
    properties:
      category_name:
        maxLength: 50
        minLength: 1
        type: string
    required:
    - category_name
    type: object
  views.UpdateCustomerCard:
    properties:
      city:
        maxLength: 50
        type: string
      customer_name:
        maxLength: 50
        minLength: 1
        type: string
      customer_patronymic:
        maxLength: 50
        minLength: 1
        type: string
      customer_percent:
        maximum: 100
        minimum: 1
        type: integer
      customer_surname:
        maxLength: 50
        minLength: 1
        type: string
      phone_number:
        maxLength: 13
        type: string
      street:
        maxLength: 50
        type: string
      zipcode:
        maxLength: 9
        type: string
    required:
    - customer_name
    - customer_percent
    - customer_surname
    - phone_number
    type: object
host: localhost:8080
info:
  contact: {}
  termsOfService: http://swagger.io/terms/
  title: Go server API
  version: "1.0"
paths:
  /categories:
    get:
      consumes:
      - application/json
      description: Retrieves all product categories
      parameters:
      - description: sorted
        in: query
        name: sorted
        type: boolean
      - description: category_number
        format: int64
        in: query
        name: category_number
        type: integer
      - description: category_name
        in: query
        name: category_name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/views.CategoryResponse'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get all categories
      tags:
      - Category
    post:
      consumes:
      - application/json
      description: Creates a new product category
      parameters:
      - description: Category data
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/views.CreateNewCategory'
      produces:
      - application/json
      responses:
        "201":
          description: Payload of category
          schema:
            $ref: '#/definitions/views.CategoryResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "422":
          description: Unprocessable Entity
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Create a new category
      tags:
      - Category
  /categories/{id}:
    delete:
      consumes:
      - application/json
      description: Deletes an existing product category by ID
      parameters:
      - description: Category ID
        format: int64
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: No Content
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Delete a category
      tags:
      - Category
    get:
      consumes:
      - application/json
      description: Retrieves an existing product category by ID
      parameters:
      - description: Category ID
        format: int64
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/views.CategoryResponse'
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get a category by ID
      tags:
      - Category
    put:
      consumes:
      - application/json
      description: Updates an existing product category by ID
      parameters:
      - description: Category ID
        format: int64
        in: path
        name: id
        required: true
        type: integer
      - description: Payload of category
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/views.UpdateCategory'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/views.CategoryResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "422":
          description: Unprocessable Entity
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Update an existing category
      tags:
      - Category
  /checks:
    get:
      consumes:
      - application/json
      description: Retrieves all checks
      parameters:
      - description: employee_id
        in: query
        name: employee_id
        type: string
      - description: start_date
        in: query
        name: start_date
        required: true
        type: string
      - description: end_date
        in: query
        name: end_date
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/views.CheckListResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get all checks
      tags:
      - Checks
    post:
      consumes:
      - application/json
      description: Creates a new check
      parameters:
      - description: Check data
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/views.CreateNewCheck'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/views.CheckResponse'
        "400":
          description: Invalid request payload
          schema:
            additionalProperties: true
            type: object
        "422":
          description: Validation error
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Create a new check
      tags:
      - Checks
  /checks/{checkNumber}:
    delete:
      consumes:
      - application/json
      description: Delete an existing check by check number
      parameters:
      - description: Check number
        in: path
        name: checkNumber
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Entity not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Delete a check by check number
      tags:
      - Checks
    get:
      consumes:
      - application/json
      description: Get a check by check number with products list
      parameters:
      - description: Check number
        in: path
        name: checkNumber
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/views.CheckResponseWithProducts'
        "404":
          description: Entity not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Get a check by check number with products list
      tags:
      - Checks
  /checks/price:
    get:
      consumes:
      - application/json
      description: Retrieves total price of checks of all or specific cashier within
        date rage
      parameters:
      - description: employee_id
        in: query
        name: employee_id
        type: string
      - description: start_date
        in: query
        name: start_date
        required: true
        type: string
      - description: end_date
        in: query
        name: end_date
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              additionalProperties:
                format: float64
                type: number
              type: object
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get total price of checks of all or specific cashier within date rage
      tags:
      - Checks
  /checks/today:
    get:
      consumes:
      - application/json
      description: Retrieves all checks by specific cashier within today
      parameters:
      - description: employee_id
        in: query
        name: employee_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/views.CheckListResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get all checks by specific cashier within today
      tags:
      - Checks
  /customer-cards:
    get:
      consumes:
      - application/json
      description: Retrieves a list of all customer discount cards
      parameters:
      - description: percent
        in: query
        name: percent
        type: integer
      - description: sorted
        in: query
        name: sorted
        type: boolean
      - description: surname
        in: query
        name: surname
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/views.CustomerCardResponse'
            type: array
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: List all customer cards
      tags:
      - CustomerCard
    post:
      consumes:
      - application/json
      description: Creates a new customer discount card and stores it in the database
      parameters:
      - description: Customer card data
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/views.CreateNewCustomerCard'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/views.CustomerCardResponse'
        "400":
          description: Validation error
          schema:
            additionalProperties: true
            type: object
        "422":
          description: Validation error
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Create a new customer card
      tags:
      - CustomerCard
  /customer-cards/{cardNumber}:
    delete:
      consumes:
      - application/json
      description: Deletes an existing customer discount card
      parameters:
      - description: Customer card number
        in: path
        name: cardNumber
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Entity not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Delete a customer card
      tags:
      - CustomerCard
    get:
      consumes:
      - application/json
      description: Retrieves a customer discount card by its number
      parameters:
      - description: Customer card number
        in: path
        name: cardNumber
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/views.CustomerCardResponse'
        "404":
          description: Entity not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Get a customer card by number
      tags:
      - CustomerCard
    put:
      consumes:
      - application/json
      description: Updates an existing customer discount card
      parameters:
      - description: Customer card number
        in: path
        name: cardNumber
        required: true
        type: string
      - description: Customer card data
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/views.UpdateCustomerCard'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/views.CustomerCardResponse'
        "400":
          description: Validation error
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Entity not found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties: true
            type: object
      summary: Update a customer card
      tags:
      - CustomerCard
  /sales:
    get:
      consumes:
      - application/json
      description: Retrieves all sales
      parameters:
      - description: start_date
        in: query
        name: start_date
        required: true
        type: string
      - description: end_date
        in: query
        name: end_date
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/views.SaleResponse'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get all sales
      tags:
      - Sale
swagger: "2.0"
